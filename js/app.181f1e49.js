(function(){"use strict";var e={5226:function(e,t,a){var o=a(6252),s=a(9963),r=a(2201),i=a(3577);const n={class:"controls"},l={key:0},c={key:1},u={key:2};function d(e,t,a,s,r,d){const h=(0,o.up)("base-dialog"),m=(0,o.up)("coach-filter"),p=(0,o.up)("base-button"),f=(0,o.up)("base-spinner"),g=(0,o.up)("coach-item"),v=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(h,{show:!!r.error,title:"An error occured!",onClose:d.handleError},{default:(0,o.w5)((()=>[(0,o._)("p",null,(0,i.zw)(r.error),1)])),_:1},8,["show","onClose"]),(0,o._)("section",null,[(0,o.Wm)(m,{onChangeFilter:d.setFilters},null,8,["onChangeFilter"])]),(0,o._)("section",null,[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o.Wm)(p,{mode:"outline",onClick:t[0]||(t[0]=e=>d.loadCoaches(!0))},{default:(0,o.w5)((()=>[(0,o.Uk)("Refresh")])),_:1}),d.isLoggedIn?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(p,{key:0,link:"",to:"/auth?redirect=register"},{default:(0,o.w5)((()=>[(0,o.Uk)("Login to Register as Coach")])),_:1})),!d.isLoggedIn||d.isCoach||r.isLoading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(p,{key:1,link:"",to:"/register"},{default:(0,o.w5)((()=>[(0,o.Uk)("Register as Coach")])),_:1}))]),r.isLoading?((0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(f)])):d.hasCoaches?((0,o.wg)(),(0,o.iD)("ul",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.filteredcoaches,(e=>((0,o.wg)(),(0,o.j4)(g,{key:e.id,id:e.id,"first-name":e.firstName,"last-name":e.lastName,rate:e.hourlyRate,areas:e.areas},null,8,["id","first-name","last-name","rate","areas"])))),128))])):((0,o.wg)(),(0,o.iD)("h3",u,"No coaches found."))])),_:1})])])}const h={class:"actions"};function m(e,t,a,s,r,n){const l=(0,o.up)("base-badge"),c=(0,o.up)("base-button");return(0,o.wg)(),(0,o.iD)("li",null,[(0,o._)("h3",null,(0,i.zw)(n.fullName),1),(0,o._)("h4",null,"$"+(0,i.zw)(a.rate)+"/hour",1),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.areas,(e=>((0,o.wg)(),(0,o.j4)(l,{key:e,type:e,title:e},null,8,["type","title"])))),128))]),(0,o._)("div",h,[(0,o.Wm)(c,{mode:"outline",link:"",to:n.coachContactLink},{default:(0,o.w5)((()=>[(0,o.Uk)("Contact")])),_:1},8,["to"]),(0,o.Wm)(c,{link:"",to:n.coachDeatilsLink},{default:(0,o.w5)((()=>[(0,o.Uk)("View Details")])),_:1},8,["to"])])])}function p(e,t,a,s,r,n){return(0,o.wg)(),(0,o.iD)("span",{class:(0,i.C_)(["badge",a.type])},(0,i.zw)(n.text),3)}var f={props:["type","title"],computed:{text(){return this.title.toUpperCase()}}},g=a(3744);const v=(0,g.Z)(f,[["render",p],["__scopeId","data-v-11514e87"]]);var w=v,_={components:{BaseBadge:w},props:["id","firstName","lastName","rate","areas"],computed:{fullName(){return this.firstName+" "+this.lastName},coachContactLink(){return this.$route.path+"/"+this.id+"/contact"},coachDeatilsLink(){return this.$route.path+"/"+this.id}}};const y=(0,g.Z)(_,[["render",m],["__scopeId","data-v-61fc3d8c"]]);var b=y;const k=e=>((0,o.dD)("data-v-0ee39966"),e=e(),(0,o.Cn)(),e),C=k((()=>(0,o._)("h2",null,"Find your Coach",-1))),I={class:"filter-option"},D=k((()=>(0,o._)("label",{for:"frontend"},"Frontend",-1))),L={class:"filter-option"},q=k((()=>(0,o._)("label",{for:"backend"},"Backend",-1))),V={class:"filter-option"},N=k((()=>(0,o._)("label",{for:"career"},"Career",-1)));function F(e,t,a,s,r,i){const n=(0,o.up)("base-card");return(0,o.wg)(),(0,o.j4)(n,null,{default:(0,o.w5)((()=>[C,(0,o._)("span",I,[(0,o._)("input",{type:"checkbox",id:"frontend",checked:"",onChange:t[0]||(t[0]=(...e)=>i.setFilter&&i.setFilter(...e))},null,32),D]),(0,o._)("span",L,[(0,o._)("input",{type:"checkbox",id:"backend",checked:"",onChange:t[1]||(t[1]=(...e)=>i.setFilter&&i.setFilter(...e))},null,32),q]),(0,o._)("span",V,[(0,o._)("input",{type:"checkbox",id:"career",checked:"",onChange:t[2]||(t[2]=(...e)=>i.setFilter&&i.setFilter(...e))},null,32),N])])),_:1})}var U={emits:["change-filter"],data(){return{filters:{frontend:!0,backend:!0,career:!0}}},methods:{setFilter(e){const t=e.target.id,a=e.target.checked,o={...this.filters,[t]:a};this.filters=o,this.$emit("change-filter",o)}}};const W=(0,g.Z)(U,[["render",F],["__scopeId","data-v-0ee39966"]]);var S=W,A={components:{CoachItem:b,CoachFilter:S},data(){return{isLoading:!1,error:null,activeFilters:{frontend:!0,backend:!0,career:!0}}},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated},isCoach(){return this.$store.getters["coaches/isCoach"]},filteredcoaches(){const e=this.$store.getters["coaches/coaches"];return e.filter((e=>!(!this.activeFilters.frontend||!e.areas.includes("frontend"))||(!(!this.activeFilters.backend||!e.areas.includes("backend"))||!(!this.activeFilters.career||!e.areas.includes("career")))))},hasCoaches(){return!this.isLoading&&this.$store.getters["coaches/hasCoaches"]}},created(){this.loadCoaches()},methods:{setFilters(e){this.activeFilters=e},async loadCoaches(e=!1){this.isLoading=!0;try{await this.$store.dispatch("coaches/loadCoaches",{forceRefresh:e})}catch(t){this.error=t.message||"Something went wrong!"}this.isLoading=!1},handleError(){this.error=null}}};const $=(0,g.Z)(A,[["render",d],["__scopeId","data-v-0f6d142f"]]);var R=$;const j=(0,o._)("h2",null,"Page not found",-1);function E(e,t){const a=(0,o.up)("router-link"),s=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("section",null,[(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[j,(0,o._)("p",null,[(0,o.Uk)(" This page could not be found - maybe checkoout all out "),(0,o.Wm)(a,{to:"/coaches"},{default:(0,o.w5)((()=>[(0,o.Uk)("coaches")])),_:1}),(0,o.Uk)(". ")])])),_:1})])}const x={},T=(0,g.Z)(x,[["render",E]]);var O=T,B=a(3907),Z=(a(560),{registerCoach(e,t){e.coaches.push(t)},setCoaches(e,t){e.coaches=t},setFetchTimestamp(e){e.lastFetch=(new Date).getTime()}}),z={async registerCoach(e,t){const a=e.rootGetters.userId,o={firstName:t.first,lastName:t.last,description:t.desc,hourlyRate:t.rate,areas:t.areas},s=e.rootGetters.token,r=await fetch(`https://vue-coach-project-c2d42-default-rtdb.firebaseio.com/coaches/${a}.json?auth=${s}`,{method:"PUT",body:JSON.stringify(o)});r.ok,e.commit("registerCoach",{...o,id:a})},async loadCoaches(e,t){if(!t.forceRefresh&&!e.getters.shouldUpdate)return;console.log("aaa"),console.log("production");const a=await fetch("https://vue-coach-project-c2d42-default-rtdb.firebaseio.com/coaches.json"),o=await a.json();if(!a.ok){const e=new Error(o.message||"Failed to fetch!");throw e}const s=[];for(const r in o){const e={id:r,firstName:o[r].firstName,lastName:o[r].lastName,description:o[r].description,hourlyRate:o[r].hourlyRate,areas:o[r].areas};s.push(e)}e.commit("setCoaches",s),e.commit("setFetchTimestamp")}},M={coaches(e){return e.coaches},hasCoaches(e){return e.coaches&&e.coaches.length>0},isCoach(e,t,a,o){const s=t.coaches,r=o.userId;return s.some((e=>e.id===r))},shouldUpdate(e){const t=e.lastFetch;if(!t)return!0;const a=(new Date).getTime();return(a-t)/1e3>60}},P={namespaced:!0,state(){return{lastFetch:null,coaches:[{id:"c1",firstName:"Maximilian",lastName:"SchwarzmÃ¼ller",areas:["frontend","backend","career"],description:"I'm Maximilian and I've worked as a freelance web developer for years. Let me help you become a developer as well!",hourlyRate:30},{id:"c2",firstName:"Julie",lastName:"Jones",areas:["frontend","career"],description:"I am Julie and as a senior developer in a big tech company, I can help you get your first job or progress in your current role.",hourlyRate:30}]}},mutations:Z,actions:z,getters:M},H={addRequest(e,t){e.requests.push(t)},setRequests(e,t){e.requests=t}},Y={async contactCoach(e,t){const a={userEmail:t.email,message:t.message},o=await fetch(`https://vue-coach-project-c2d42-default-rtdb.firebaseio.com/requests/${t.coachId}.json`,{method:"POST",body:JSON.stringify(a)}),s=await o.json();if(!o.ok){const e=new Error(s.message||"Failed to seng requiest.");throw e}a.id=s.name,a.coachId=t.coachId,e.commit("addRequest",a)},async fetchRequests(e){const t=e.rootGetters.userId,a=e.rootGetters.token,o=await fetch(`https://vue-coach-project-c2d42-default-rtdb.firebaseio.com/requests/${t}.json?auth=${a}`),s=await o.json();if(!o.ok){const e=new Error(s.message||"Failed to fetch requests.");throw e}const r=[];for(const i in s){const e={id:i,coachId:t,userEmail:s[i].userEmail,message:s[i].message};r.push(e)}e.commit("setRequests",r)}},J={requests(e,t,a,o){const s=o.userId;return e.requests.filter((e=>e.coachId===s))},hasRequests(e,t){return t.requests&&e.requests.length>0}},K={namespaced:!0,state(){return{requests:[]}},mutations:H,actions:Y,getters:J},G={setUser(e,t){e.token=t.token,e.userName=t.userId,e.didAutoLogout=!1},setAutoLogout(e){e.didAutoLogout=!0}};let X;var Q={async login(e,t){return e.dispatch("auth",{...t,mode:"login"})},async signup(e,t){return e.dispatch("auth",{...t,mode:"signup"})},async auth(e,t){const a=t.mode;let o="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyD8M3LnY94hcCcDX0uyWZH8WTd8FUDxLzs";"signup"===a&&(o="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyD8M3LnY94hcCcDX0uyWZH8WTd8FUDxLzs");const s=await fetch(o,{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),r=await s.json();if(!s.ok){const e=new Error(r.message||"Failed to authenticate. Check your data.");throw e}const i=1e3*+r.expiresIn,n=(new Date).getTime()+i;localStorage.setItem("token",r.idToken),localStorage.setItem("userId",r.localId),localStorage.setItem("tokenExpiration",n),X=setTimeout((function(){e.dispatch("autoLogout")}),i),e.commit("setUser",{token:r.idToken,userId:r.localId})},tryLogin(e){const t=localStorage.getItem("token"),a=localStorage.getItem("userId"),o=localStorage.getItem("tokenExpiration"),s=+o-(new Date).getTime();s<0||(X=setTimeout((function(){e.dispatch("autoLogout")}),s),t&&a&&e.commit("setUser",{token:t,userId:a}))},logout(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(X),e.commit("setUser",{token:null,userId:null})},autoLogout(e){e.dispatch("logout"),e.commit("setAutoLogout")}},ee={userId(e){return e.userId},token(e){return e.token},isAuthenticated(e){return!!e.token},didAutoLogout(e){return e.didAutoLogout}},te={state(){return{userId:null,token:null,didAutoLogout:!1}},mutations:G,actions:Q,getters:ee};const ae=(0,B.MT)({modules:{coaches:P,requests:K,auth:te}});var oe=ae;const se=(0,o._)("h2",null,"Interested? Reach out now!",-1);function re(e,t,a,s,r,n){const l=(0,o.up)("base-card"),c=(0,o.up)("base-button"),u=(0,o.up)("router-view"),d=(0,o.up)("base-badge");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("section",null,[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[(0,o._)("h2",null,(0,i.zw)(n.fullName),1),(0,o._)("h3",null,"$"+(0,i.zw)(n.rate)+"/hour",1)])),_:1})]),(0,o._)("section",null,[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[(0,o._)("header",null,[se,(0,o.Wm)(c,{link:"",to:n.contactLink},{default:(0,o.w5)((()=>[(0,o.Uk)("Contact")])),_:1},8,["to"])]),(0,o.Wm)(u)])),_:1})]),(0,o._)("section",null,[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.areas,(e=>((0,o.wg)(),(0,o.j4)(d,{key:e,type:e,title:e},null,8,["type","title"])))),128)),(0,o._)("p",null,(0,i.zw)(n.description),1)])),_:1})])])}var ie={props:["id"],data(){return{selectedCoach:null}},computed:{fullName(){return this.selectedCoach.firstName+" "+this.selectedCoach.lastName},contactLink(){return this.$route.path+"/"+this.id+"/contact"},areas(){return this.selectedCoach.areas},rate(){return this.selectedCoach.hourlyRate},description(){return this.selectedCoach.description}},created(){this.selectedCoach=this.$store.getters["coaches/coaches"].find((e=>e.id===this.id))}};const ne=(0,g.Z)(ie,[["render",re]]);var le=ne;const ce=(0,o._)("h2",null,"Register as a coach now!",-1);function ue(e,t,a,s,r,i){const n=(0,o.up)("coach-form"),l=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("section",null,[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[ce,(0,o.Wm)(n,{onSaveData:i.saveData},null,8,["onSaveData"])])),_:1})])])}const de=e=>((0,o.dD)("data-v-56cdef0f"),e=e(),(0,o.Cn)(),e),he=de((()=>(0,o._)("label",{for:"firstname"},"Firstname",-1))),me={key:0},pe=de((()=>(0,o._)("label",{for:"lastname"},"Lastname",-1))),fe={key:0},ge=de((()=>(0,o._)("label",{for:"description"},"Description",-1))),ve={key:0},we=de((()=>(0,o._)("label",{for:"rate"},"Hourly Rate",-1))),_e={key:0},ye=de((()=>(0,o._)("h3",null,"Areas of Expertise",-1))),be=de((()=>(0,o._)("label",{for:"frontend"},"Frontend Development",-1))),ke=de((()=>(0,o._)("label",{for:"backend"},"Backend Development",-1))),Ce=de((()=>(0,o._)("label",{for:"career"},"Career Advisory",-1))),Ie={key:0},De={key:0};function Le(e,t,a,r,n,l){const c=(0,o.up)("base-button");return(0,o.wg)(),(0,o.iD)("form",{onSubmit:t[14]||(t[14]=(0,s.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,o._)("div",{class:(0,i.C_)(["form-control",{invalid:!n.firstName.isValid}])},[he,(0,o.wy)((0,o._)("input",{type:"text",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=e=>n.firstName.val=e),onBlur:t[1]||(t[1]=e=>l.clearValidity("firstName"))},null,544),[[s.nr,n.firstName.val,void 0,{trim:!0}]]),n.firstName.isValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",me,"FirstName must not be empty."))],2),(0,o._)("div",{class:(0,i.C_)(["form-control",{invalid:!n.lastName.isValid}])},[pe,(0,o.wy)((0,o._)("input",{type:"text",id:"lastname","onUpdate:modelValue":t[2]||(t[2]=e=>n.lastName.val=e),onBlur:t[3]||(t[3]=e=>l.clearValidity("lastName"))},null,544),[[s.nr,n.lastName.val,void 0,{trim:!0}]]),n.lastName.isValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",fe,"Lastname must not be empty."))],2),(0,o._)("div",{class:(0,i.C_)(["form-control",{invalid:!n.description.isValid}])},[ge,(0,o.wy)((0,o._)("textarea",{id:"description",rows:"5","onUpdate:modelValue":t[4]||(t[4]=e=>n.description.val=e),onBlur:t[5]||(t[5]=e=>l.clearValidity("description"))},null,544),[[s.nr,n.description.val,void 0,{trim:!0}]]),n.description.isValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",ve,"Description must not be empty."))],2),(0,o._)("div",{class:(0,i.C_)(["form-control",{invalid:!n.rate.isValid}])},[we,(0,o.wy)((0,o._)("input",{type:"number",id:"rate","onUpdate:modelValue":t[6]||(t[6]=e=>n.rate.val=e),onBlur:t[7]||(t[7]=e=>l.clearValidity("rate"))},null,544),[[s.nr,n.rate.val,void 0,{number:!0}]]),n.rate.isValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",_e,"Rate must be greater than 0."))],2),(0,o._)("div",{class:(0,i.C_)(["form-control",{invalid:!n.areas.isValid}])},[ye,(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{type:"checkbox",id:"frontend",value:"frontend","onUpdate:modelValue":t[8]||(t[8]=e=>n.areas.val=e),onBlur:t[9]||(t[9]=e=>l.clearValidity("areas"))},null,544),[[s.e8,n.areas.val]]),be]),(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{type:"checkbox",id:"backend",value:"backend","onUpdate:modelValue":t[10]||(t[10]=e=>n.areas.val=e),onBlur:t[11]||(t[11]=e=>l.clearValidity("areas"))},null,544),[[s.e8,n.areas.val]]),ke]),(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{type:"checkbox",id:"career",value:"career","onUpdate:modelValue":t[12]||(t[12]=e=>n.areas.val=e),onBlur:t[13]||(t[13]=e=>l.clearValidity("areas"))},null,544),[[s.e8,n.areas.val]]),Ce]),n.areas.isValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",Ie,"At least one expertise must bne selected."))],2),n.formIsValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",De,"Please fix the above errors and submit again.")),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Register")])),_:1})],32)}var qe={emits:["save-data"],data(){return{firstName:{val:"",isValid:!0},lastName:{val:"",isValid:!0},description:{val:"",isValid:!0},rate:{val:null,isValid:!0},areas:{val:[],isValid:!0},formIsValid:!0}},methods:{clearValidity(e){this[e].isValid=!0},validateForm(){this.formIsValid=!0,""===this.firstName.val&&(this.firstName.isValid=!1,this.formIsValid=!1),""===this.lastName.val&&(this.lastName.isValid=!1,this.formIsValid=!1),""===this.description.val&&(this.description.isValid=!1,this.formIsValid=!1),(!this.rate.val||this.rate.val<0)&&(this.rate.isValid=!1,this.formIsValid=!1),0===this.areas.val.length&&(this.areas.isValid=!1,this.formIsValid=!1)},submitForm(){if(this.validateForm(),!this.formIsValid)return;const e={first:this.firstName.val,last:this.lastName.val,desc:this.description.val,rate:this.rate.val,areas:this.areas.val};this.$emit("save-data",e)}}};const Ve=(0,g.Z)(qe,[["render",Le],["__scopeId","data-v-56cdef0f"]]);var Ne=Ve,Fe={components:{CoachForm:Ne},methods:{saveData(e){this.$store.dispatch("coaches/registerCoach",e),this.$router.replace("/coaches")}}};const Ue=(0,g.Z)(Fe,[["render",ue]]);var We=Ue;const Se=e=>((0,o.dD)("data-v-325098f6"),e=e(),(0,o.Cn)(),e),Ae=Se((()=>(0,o._)("label",{for:"email"},"Your E-Mail",-1))),$e=Se((()=>(0,o._)("label",{for:"message"},"Message",-1))),Re={key:0,class:"errors"},je={class:"actions"};function Ee(e,t,a,r,i,n){const l=(0,o.up)("base-button");return(0,o.wg)(),(0,o.iD)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[(0,o._)("div",null,[Ae,(0,o.wy)((0,o._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e)},null,512),[[s.nr,i.email,void 0,{trim:!0}]])]),(0,o._)("div",null,[$e,(0,o.wy)((0,o._)("textarea",{id:"message",rows:"5","onUpdate:modelValue":t[1]||(t[1]=e=>i.message=e)},null,512),[[s.nr,i.message,void 0,{trim:!0}]])]),i.formIsValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",Re,"Plesase enter a valid email and non-empty message")),(0,o._)("div",je,[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Send Message")])),_:1})])],32)}var xe={data(){return{email:"",message:"",formIsValid:!0}},methods:{submitForm(){this.formIsValid=!0,""!==this.email&&this.email.includes("@")&&""!==this.massage?(this.$store.dispatch("requests/contactCoach",{email:this.email,message:this.message,coachId:this.$route.params.id}),this.$router.replace("/coaches")):this.formIsValid=!1}}};const Te=(0,g.Z)(xe,[["render",Ee],["__scopeId","data-v-325098f6"]]);var Oe=Te;const Be=e=>((0,o.dD)("data-v-613a461a"),e=e(),(0,o.Cn)(),e),Ze=Be((()=>(0,o._)("header",null,[(0,o._)("h2",null,"Request Received")],-1))),ze={key:1},Me={key:2};function Pe(e,t,a,s,r,n){const l=(0,o.up)("base-dialog"),c=(0,o.up)("base-spinner"),u=(0,o.up)("request-item"),d=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(l,{show:!!r.error,title:"An error occured!",onClose:n.handleError},{default:(0,o.w5)((()=>[(0,o._)("p",null,(0,i.zw)(r.error),1)])),_:1},8,["show","onClose"]),(0,o._)("section",null,[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[Ze,r.isLoading?((0,o.wg)(),(0,o.j4)(c,{key:0})):n.hasRequests&!r.isLoading?((0,o.wg)(),(0,o.iD)("ul",ze,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.receivedRequests,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"])))),128))])):((0,o.wg)(),(0,o.iD)("h3",Me,"You haven't received any requests yet!"))])),_:1})])])}const He=["href"];function Ye(e,t,a,s,r,n){return(0,o.wg)(),(0,o.iD)("li",null,[(0,o._)("div",null,[(0,o._)("a",{href:n.emailLink},(0,i.zw)(a.email),9,He)]),(0,o._)("p",null,(0,i.zw)(a.message),1)])}var Je={props:["email","message"],computed:{emailLink(){return"mailto:"+this.email}}};const Ke=(0,g.Z)(Je,[["render",Ye],["__scopeId","data-v-92277ac4"]]);var Ge=Ke,Xe={components:{RequestItem:Ge},data(){return{isLoading:!1,error:null}},computed:{receivedRequests(){return this.$store.getters["requests/requests"]},hasRequests(){return this.$store.getters["requests/hasRequests"]}},created(){this.laodRequests()},methods:{async laodRequests(){this.isLoading=!0;try{await this.$store.dispatch("requests/fetchRequests")}catch(e){this.error=e.message||"Something has failed"}this.isLoading=!1},handleError(){this.error=null}}};const Qe=(0,g.Z)(Xe,[["render",Pe],["__scopeId","data-v-613a461a"]]);var et=Qe;const tt=e=>((0,o.dD)("data-v-1578b5f6"),e=e(),(0,o.Cn)(),e),at={class:"form-control"},ot=tt((()=>(0,o._)("label",{for:"email"},"E-Mail",-1))),st={class:"form-control"},rt=tt((()=>(0,o._)("label",{for:"password"},"Password",-1))),it={key:0};function nt(e,t,a,r,n,l){const c=(0,o.up)("base-dialog"),u=(0,o.up)("base-spinner"),d=(0,o.up)("base-button"),h=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(c,{show:!!n.error,title:"An error occured",onClose:l.handleError},{default:(0,o.w5)((()=>[(0,o._)("p",null,(0,i.zw)(n.error),1)])),_:1},8,["show","onClose"]),(0,o.Wm)(c,{show:n.isLoading,title:"Authenticating...",fixed:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1},8,["show"]),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,o._)("div",at,[ot,(0,o.wy)((0,o._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e)},null,512),[[s.nr,n.email,void 0,{trim:!0}]])]),(0,o._)("div",st,[rt,(0,o.wy)((0,o._)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e)},null,512),[[s.nr,n.password]])]),n.formIsValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",it,"Please enter a valid email and password. Password must be at least 6 characters long.")),(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(l.submitButtonCaption),1)])),_:1}),(0,o.Wm)(d,{type:"button",mode:"flat",onClick:l.switchAuthMode},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(l.switchModeButtonCaption),1)])),_:1},8,["onClick"])],32)])),_:1})])}var lt={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const e={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",e):await this.$store.dispatch("signup",e);const t="/"+(this.$route.query.redirect||"coaches");this.$router.replace(t)}catch(t){this.error=t.message||"Failed to authenticate, try later."}this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}};const ct=(0,g.Z)(lt,[["render",nt],["__scopeId","data-v-1578b5f6"]]);var ut=ct;const dt=(0,r.p7)({history:(0,r.PO)(),routes:[{path:"/",redirect:"/coaches"},{path:"/coaches",component:R},{path:"/coaches/:id",component:le,props:!0,children:[{path:"contact",component:Oe}]},{path:"/register",component:We,meta:{requiresAuth:!0}},{path:"/requests",component:et,meta:{requiresAuth:!0}},{path:"/auth",component:ut,meta:{requiresUnauth:!0}},{path:"/:notFound(.*)",component:O}]});dt.beforeEach((function(e,t,a){e.meta.requiresAuth&&!oe.getters.isAuthenticated?a("/auth"):e.meta.requiresUnauth&&oe.getters.isAuthenticated?a("coached"):a()}));var ht=dt;function mt(e,t,a,r,i,n){const l=(0,o.up)("the-header"),c=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o.Wm)(c,null,{default:(0,o.w5)((e=>[(0,o.Wm)(s.uT,{name:"route",mode:"out-in"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.Component)))])),_:2},1024)])),_:1})],64)}const pt={key:0},ft={key:1},gt={key:2};function vt(e,t,a,s,r,i){const n=(0,o.up)("router-link"),l=(0,o.up)("base-button");return(0,o.wg)(),(0,o.iD)("header",null,[(0,o._)("nav",null,[(0,o._)("h1",null,[(0,o.Wm)(n,{to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("Find a Coach")])),_:1})]),(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(n,{to:"/coaches"},{default:(0,o.w5)((()=>[(0,o.Uk)("All Coaches")])),_:1})]),i.isLoggedIn?((0,o.wg)(),(0,o.iD)("li",pt,[(0,o.Wm)(n,{to:"/requests"},{default:(0,o.w5)((()=>[(0,o.Uk)("Requests")])),_:1})])):((0,o.wg)(),(0,o.iD)("li",ft,[(0,o.Wm)(n,{to:"/auth"},{default:(0,o.w5)((()=>[(0,o.Uk)("login")])),_:1})])),i.isLoggedIn?((0,o.wg)(),(0,o.iD)("li",gt,[(0,o.Wm)(l,{onClick:i.logout},{default:(0,o.w5)((()=>[(0,o.Uk)("Logout")])),_:1},8,["onClick"])])):(0,o.kq)("",!0)])])])}var wt={computed:{isLoggedIn(){return this.$store.getters.isAuthenticated}},methods:{logout(){this.$store.dispatch("logout"),this.$router.replace("/coaches")}}};const _t=(0,g.Z)(wt,[["render",vt],["__scopeId","data-v-4589cc6a"]]);var yt=_t,bt={components:{TheHeader:yt},computed:{didAutoLogout(){return this.$store.getters.didAutoLogout}},created(){this.$store.dispatch("tryLogin")},watch:{didAutoLogout(e,t){e&&e!==t&&this.$router.replace("/coaches")}}};const kt=(0,g.Z)(bt,[["render",mt]]);var Ct=kt;const It={class:"card"};function Dt(e,t){return(0,o.wg)(),(0,o.iD)("div",It,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])}const Lt={},qt=(0,g.Z)(Lt,[["render",Dt],["__scopeId","data-v-1f9750d9"]]);var Vt=qt;function Nt(e,t,a,s,r,n){const l=(0,o.up)("router-link");return a.link?((0,o.wg)(),(0,o.j4)(l,{key:1,to:a.to,class:(0,i.C_)(a.mode)},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default",{},void 0,!0)])),_:3},8,["to","class"])):((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,i.C_)(a.mode)},[(0,o.WI)(e.$slots,"default",{},void 0,!0)],2))}var Ft={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};const Ut=(0,g.Z)(Ft,[["render",Nt],["__scopeId","data-v-2b151212"]]);var Wt=Ut;const St=e=>((0,o.dD)("data-v-5147169a"),e=e(),(0,o.Cn)(),e),At={class:"spinner"},$t=St((()=>(0,o._)("div",{class:"lds-roller"},[(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div")],-1))),Rt=[$t];function jt(e,t){return(0,o.wg)(),(0,o.iD)("div",At,Rt)}const Et={},xt=(0,g.Z)(Et,[["render",jt],["__scopeId","data-v-5147169a"]]);var Tt=xt;const Ot=(0,o.RC)((()=>a.e(728).then(a.bind(a,1728)))),Bt=(0,s.ri)(Ct);Bt.use(ht),Bt.use(oe),Bt.component("base-card",Vt),Bt.component("base-button",Wt),Bt.component("base-badge",w),Bt.component("base-spinner",Tt),Bt.component("base-dialog",Ot),Bt.mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,r){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],r=e[u][2];for(var n=!0,l=0;l<o.length;l++)(!1&r||i>=r)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(n=!1,r<i&&(i=r));if(n){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,s,r]}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,o){return a.f[o](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+".7885c340.js"}}(),function(){a.miniCssF=function(e){return"css/"+e+".5957c709.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue-first-app:";a.l=function(o,s,r,i){if(e[o])e[o].push(s);else{var n,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+r){n=d;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+r),n.src=o),e[o]=[s];var h=function(t,a){n.onerror=n.onload=null,clearTimeout(m);var s=e[o];if(delete e[o],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=h.bind(null,n.onerror),n.onload=h.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,o,s){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(a){if(r.onerror=r.onload=null,"load"===a.type)o();else{var i=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=n,r.parentNode&&r.parentNode.removeChild(r),s(l)}};return r.onerror=r.onload=i,r.href=t,a?a.parentNode.insertBefore(r,a.nextSibling):document.head.appendChild(r),r},t=function(e,t){for(var a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var s=a[o],r=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){s=i[o],r=s.getAttribute("data-href");if(r===e||r===t)return s}},o=function(o){return new Promise((function(s,r){var i=a.miniCssF(o),n=a.p+i;if(t(i,n))return s();e(o,n,null,s,r)}))},s={143:0};a.f.miniCss=function(e,t){var a={728:1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=o(e).then((function(){s[e]=0}),(function(t){throw delete s[e],t})))}}}(),function(){var e={143:0};a.f.j=function(t,o){var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)o.push(s[2]);else{var r=new Promise((function(a,o){s=e[t]=[a,o]}));o.push(s[2]=r);var i=a.p+a.u(t),n=new Error,l=function(o){if(a.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var r=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;n.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",n.name="ChunkLoadError",n.type=r,n.request=i,s[1](n)}};a.l(i,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,r,i=o[0],n=o[1],l=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var u=l(a)}for(t&&t(o);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},o=self["webpackChunkvue_first_app"]=self["webpackChunkvue_first_app"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(5226)}));o=a.O(o)})();
//# sourceMappingURL=app.181f1e49.js.map